(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"119a":function(t,e,n){var a=n("54a1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("63118838",a,!0,{sourceMap:!1,shadowMode:!1})},"2e61":function(t,e,n){"use strict";n.r(e);var a=n("51fe"),i=n("4572");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("e27e");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"4a8bf82e",null,!1,a["a"],r);e["default"]=u.exports},4572:function(t,e,n){"use strict";n.r(e);var a=n("8ff3"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"51fe":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"login bg-white"},[n("v-uni-view",{staticClass:"container flex flex-direction align-center justify-center"},[n("v-uni-image",{staticClass:"logo",attrs:{src:"https://enroll-api.activitysign.com/3/img/logo.png"}}),n("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"form"},[n("v-uni-view",{staticClass:"cu-form-group"},[n("v-uni-input",{attrs:{name:"name",placeholder:"请输入用户名","placeholder-class":"placeholde"}})],1),n("v-uni-view",{staticClass:"cu-form-group"},[n("v-uni-input",{attrs:{name:"password",placeholder:"请输入密码",password:!0,"placeholder-class":"placeholde"}})],1),n("v-uni-input",{attrs:{type:"text",name:"openid",value:t.openid,hidden:!0}}),n("v-uni-button",{staticClass:"zai-btn",attrs:{"form-type":"submit"}},[t._v("立即登录")]),n("v-uni-view",{staticClass:"zai-label margin-tb-sm",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t._navigateTo("./change")}}},[t._v("忘记密码？")]),n("v-uni-view",{staticClass:"zai-label register",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t._navigateTo("./register")}}},[t._v("还没有账号？点此注册")])],1)],1)],1)],1)},o=[]},"54a1":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-4a8bf82e]{background-color:#fff}.login .container[data-v-4a8bf82e]{padding:%?100?%}.login .container .logo[data-v-4a8bf82e]{width:%?380?%;height:%?380?%}.login .container .form[data-v-4a8bf82e]{margin-top:%?160?%;width:100%}.login .container .form .cu-form-group[data-v-4a8bf82e]{background:#fff;margin-top:%?30?%;border-radius:%?100?%;padding:%?20?% %?40?%;font-size:%?36?%;color:#94afce;border:%?1?% solid #ddd}.login .container .form .cu-form-group uni-input[data-v-4a8bf82e]{height:%?50?%;line-height:%?50?%}.login .container .form .zai-btn[data-v-4a8bf82e]{background:#ffcb57;color:#fff;border:0;border-radius:%?100?%;font-size:%?36?%;margin-top:%?90?%}.login .container .form .zai-label[data-v-4a8bf82e]{font-size:%?30?%;color:#8799a3;text-align:right}.login .container .form .zai-label.register[data-v-4a8bf82e]{position:fixed;bottom:0;left:0;width:100%;line-height:%?80?%;text-align:center;padding-bottom:calc(constant(safe-area-inset-bottom) / 2);padding-bottom:calc(env(safe-area-inset-bottom) / 2)}.placeholde[data-v-4a8bf82e]{color:#8799a3}body.?%PAGE?%[data-v-4a8bf82e]{background-color:#fff}',""]),t.exports=e},"8ff3":function(t,e,n){"use strict";var a=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=n("da42"),r=a(n("e5da")),s={data:function(){return{test:"../../static/image/banner2.png",list:"",openid:""}},onLoad:function(t){i=this,i.initValidate();var e=uni.getStorageSync("openid");e&&(i.openid=e)},methods:{toLogin:function(t){(0,o.toLogin)(t).then((function(t){console.log("toLogin",t),201==t.data.code?(uni.setStorageSync("userInfo",t.data.data),uni.setStorageSync("token",t.data.data.token),uni.setStorageSync("phone",t.data.data.phone),getApp().globalData.userInfo=t.data.data,getApp().globalData.token=t.data.data.token,getApp().globalData.phone=t.data.data.phone,uni.showToast({title:"登录成功",duration:3e3,icon:"success",success:function(){var t=getCurrentPages(),e=(t[t.length-1],t[t.length-2]);console.log(e),e.isFirst=!1,setTimeout((function(){uni.navigateBack()}),2e3)}})):i.showToast(t.data.message)})).catch((function(t){i.showToast(t.text),console.log(t)}))},formSubmit:function(t){var e=t.detail.value;if(!i.WxValidate.checkForm(e)){var n=i.WxValidate.errorList[0];return console.log(n),void i.showToast(n.msg)}i.toLogin(e),console.log(t)},_navigateTo:function(t){console.log(t),uni.navigateTo({url:t})},showToast:function(t){uni.showToast({title:t,icon:"none",mask:!0,duration:2e3})},initValidate:function(t){var e={name:{required:!0},password:{required:!0}},n={name:{required:"请输入用户名"},password:{required:"请输入密码"}};i.WxValidate=new r.default(e,n)}}};e.default=s},e27e:function(t,e,n){"use strict";var a=n("119a"),i=n.n(a);i.a},e5da:function(t,e,n){"use strict";var a=n("4ea4");n("4160"),n("a630"),n("c975"),n("fb6a"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("d4ec")),o=a(n("bee2")),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,t),Object.assign(this,{data:{},rules:e,messages:n}),this.__init()}return(0,o.default)(t,[{key:"__init",value:function(){this.__initMethods(),this.__initDefaults(),this.__initData()}},{key:"__initData",value:function(){this.form={},this.errorList=[]}},{key:"__initDefaults",value:function(){this.defaults={messages:{required:"这是必填字段。",email:"请输入有效的电子邮件地址。",tel:"请输入正确的手机号码。",url:"请输入有效的网址。",date:"请输入有效的日期。",dateISO:"请输入有效的日期（ISO），例如：2009-06-23，1998/01/22。",number:"请输入有效的数字。",digits:"只能输入数字。",idcard:"请输入18位的有效身份证。",equalTo:this.formatTpl("输入值必须和 {0} 相同。"),contains:this.formatTpl("输入值必须包含 {0}。"),minlength:this.formatTpl("最少要输入 {0} 个字符。"),maxlength:this.formatTpl("最多可以输入 {0} 个字符。"),rangelength:this.formatTpl("请输入长度在 {0} 到 {1} 之间的字符。"),min:this.formatTpl("请输入不小于 {0} 的数值。"),max:this.formatTpl("请输入不大于 {0} 的数值。"),range:this.formatTpl("请输入范围在 {0} 到 {1} 之间的数值。"),minlength1:""}}}},{key:"__initMethods",value:function(){var t=this;t.methods={required:function(e,n){if(!t.depend(n))return"dependency-mismatch";if("number"===typeof e)e=e.toString();else if("boolean"===typeof e)return!0;return e.length>0},email:function(e){return t.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},tel:function(e){return t.optional(e)||/^([1][3,5,6,7,8,9])\d{9}$/.test(e)},url:function(e){return t.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e){return t.optional(e)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e){return t.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e){return t.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e){return t.optional(e)||/^\d+$/.test(e)},idcard:function(e){return t.optional(e)||/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},equalTo:function(e,n){return t.optional(e)||e===t.data[n]},contains:function(e,n){return t.optional(e)||e.indexOf(n)>=0},minlength:function(e,n){return t.optional(e)||e.length>=n},maxlength:function(e,n){return t.optional(e)||e.length<=n},rangelength:function(e,n){return t.optional(e)||e.length>=n[0]&&e.length<=n[1]},min:function(e,n){return t.optional(e)||e>=n},max:function(e,n){return t.optional(e)||e<=n},range:function(e,n){return t.optional(e)||e>=n[0]&&e<=n[1]}}}},{key:"addMethod",value:function(t,e,n){this.methods[t]=e,this.defaults.messages[t]=void 0!==n?n:this.defaults.messages[t]}},{key:"isValidMethod",value:function(t){var e=[];for(var n in this.methods)n&&"function"===typeof this.methods[n]&&e.push(n);return-1!==e.indexOf(t)}},{key:"formatTpl",value:function(t,e){var n=this;return 1===arguments.length?function(){var e=Array.from(arguments);return e.unshift(t),n.formatTpl.apply(this,e)}:(void 0===e||(arguments.length>2&&e.constructor!==Array&&(e=Array.from(arguments).slice(1)),e.constructor!==Array&&(e=[e]),e.forEach((function(e,n){t=t.replace(new RegExp("\\{"+n+"\\}","g"),(function(){return e}))}))),t)}},{key:"depend",value:function(t){switch(typeof t){case"boolean":t=t;break;case"string":t=!!t.length;break;case"function":t=t();default:t=!0}return t}},{key:"optional",value:function(t){return!this.methods.required(t)&&"dependency-mismatch"}},{key:"customMessage",value:function(t,e){var n=this.messages[t],a="object"===typeof n;if(n&&a)return n[e.method]}},{key:"defaultMessage",value:function(t,e){var n=this.customMessage(t,e)||this.defaults.messages[e.method],a=typeof n;return"undefined"===a?n="Warning: No message defined for ".concat(e.method,"."):"function"===a&&(n=n.call(this,e.parameters)),n}},{key:"formatTplAndAdd",value:function(t,e,n){var a=this.defaultMessage(t,e);this.errorList.push({param:t,msg:a,value:n})}},{key:"checkParam",value:function(t,e,n){this.data=n;var a=null!==n[t]&&void 0!==n[t]?n[t]:"";for(var i in e)if(this.isValidMethod(i)){var o={method:i,parameters:e[i]},r=this.methods[i](a,o.parameters);if("dependency-mismatch"===r)continue;if(this.setValue(t,i,r,a),!r){this.formatTplAndAdd(t,o,a);break}}}},{key:"setView",value:function(t){this.form[t]={$name:t,$valid:!0,$invalid:!1,$error:{},$success:{},$viewValue:""}}},{key:"setValue",value:function(t,e,n,a){var i=this.form[t];i.$valid=n,i.$invalid=!n,i.$error[e]=!n,i.$success[e]=n,i.$viewValue=a}},{key:"checkForm",value:function(t){for(var e in this.__initData(),this.rules)this.setView(e),this.checkParam(e,this.rules[e],t);return this.valid()}},{key:"valid",value:function(){return 0===this.size()}},{key:"size",value:function(){return this.errorList.length}},{key:"validationErrors",value:function(){return this.errorList}}]),t}(),s=r;e.default=s}}]);