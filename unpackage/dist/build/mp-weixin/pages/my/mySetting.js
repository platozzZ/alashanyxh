(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/mySetting"],{1160:function(t,o,n){},3387:function(t,o,n){"use strict";n.r(o);var e=n("668e"),a=n("8130");for(var u in a)"default"!==u&&function(t){n.d(o,t,(function(){return a[t]}))}(u);n("f48f");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],r);o["default"]=c.exports},"668e":function(t,o,n){"use strict";n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return u})),n.d(o,"a",(function(){return e}));var e={uniPopup:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(n.bind(null,"5af3"))}},a=function(){var t=this,o=t.$createElement;t._self._c},u=[]},8130:function(t,o,n){"use strict";n.r(o);var e=n("f3db"),a=n.n(e);for(var u in e)"default"!==u&&function(t){n.d(o,t,(function(){return e[t]}))}(u);o["default"]=a.a},d3ef:function(t,o,n){"use strict";(function(t){n("abd0");e(n("66fd"));var o=e(n("3387"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},f3db:function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e,a=n("da42"),u=r(n("e5da"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){n.e("components/yq-avatar/yq-avatar").then(function(){return resolve(n("bc85"))}.bind(null,n)).catch(n.oe)},c={components:{avatar:s},data:function(){return{password:"",oldPassword:"",url:"https://enroll-api.activitysign.com/3/img/avatar.png",test:"../../static/image/banner2.png",list:"",userInfo:"",userData:"",isFirst:!0,showAvatar:!1}},onLoad:function(o){e=this;var n=t.getStorageSync("userInfo");n&&(e.userInfo=n),e.initValidate()},onShow:function(){console.log("onShow")},methods:{myUpload:function(o){console.log(o);var n={avatar:o.base64,user_id:e.userInfo.user_id};(0,a.updateAvatar)(n).then((function(o){if(console.log("updateAvatar",o),201==o.data.code){e.showToast(o.data.data);var n=e,a=n.userInfo;a.avatar=o.data.status,t.setStorageSync("userInfo",a)}else e.showToast(o.data.data)})).catch((function(t){e.showToast(t.text),console.log(t)}))},toggle:function(t){e.$refs.popup.open()},cancel:function(){e.$refs.popup.close()},showToast:function(o){t.showToast({title:o,icon:"none",mask:!0,duration:2e3})},changeAvatar:function(t){console.log(t),e.$nextTick((function(){console.log(e.$refs),e.$refs.avatar.fChooseImg("",{selWidth:"350upx",selHeight:"350upx",inner:!1,canRotate:!1})}))},hideAvatar:function(t){console.log(t),e.showAvatar=t},changPwd:function(t){(0,a.updateAvatar)(t).then((function(t){console.log("changPwd",t),201==t.data.code?(e.showToast(t.data.data),e.cancel()):e.showToast(t.data.message)})).catch((function(t){e.showToast(t.text),console.log(t)}))},pwdSubmit:function(t){console.log(t);var o=t.detail.value;if(!e.WxValidate.checkForm(o)){var n=e.WxValidate.errorList[0];return console.log(n),void e.showToast(n.msg)}e.changPwd(o)},logOut:function(){(0,a.logOut)().then((function(o){console.log("logOut",o),200==o.data.code?(t.removeStorageSync("token"),t.removeStorageSync("userInfo"),t.removeStorageSync("phone"),t.showToast({title:o.data.data,duration:2e3,icon:"none",success:function(){setTimeout((function(){t.navigateBack()}),2e3)}})):e.showToast(o.data.data)})).catch((function(t){e.showToast(t.text),console.log(t)}))},modalTap:function(o){t.showModal({title:"提示",content:"确定退出登录吗？",success:function(t){t.confirm&&e.logOut()}})},_navigateTo:function(o){console.log(o),t.navigateTo({url:o})},initValidate:function(t){var o={password:{required:!0},oldPassword:{required:!0},user_id:{required:!0}},n={password:{required:"密码不能为空"},oldPassword:{required:"原始密码不能为空"},user_id:{required:"未知错误，请刷新页面重试"}};e.WxValidate=new u.default(o,n)}}};o.default=c}).call(this,n("543d")["default"])},f48f:function(t,o,n){"use strict";var e=n("1160"),a=n.n(e);a.a}},[["d3ef","common/runtime","common/vendor"]]]);