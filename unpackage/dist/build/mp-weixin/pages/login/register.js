(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/register"],{4387:function(e,t,o){},"5ffc":function(e,t,o){"use strict";o.r(t);var n=o("be2e"),a=o("99de");for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);o("960f");var r,c=o("f0c5"),u=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);t["default"]=u.exports},6248:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=o("da42"),i=(c(o("989c")),c(o("e5da"))),r=c(o("5929"));function c(e){return e&&e.__esModule?e:{default:e}}var u={data:function(){return{test:"../../static/image/banner2.png",list:"",openid:e.getStorageSync("openid"),second:60,reg:!1,mobile:""}},onLoad:function(e){n=this,n.initValidate(),n.initValidatePhone()},methods:{toRegister:function(t){(0,a.toRegister)(t).then((function(t){console.log("toRegister",t),201==t.data.code?(e.setStorageSync("userInfo",t.data.data),e.setStorageSync("token",t.data.data.token),e.setStorageSync("phone",t.data.data.phone),getApp().globalData.userInfo=t.data.data,getApp().globalData.token=t.data.data.token,getApp().globalData.phone=t.data.data.phone,e.showToast({title:"注册成功",duration:2e3,icon:"success",success:function(){e.reLaunch({url:"../index/index"})}})):n.showToast(t.data.message)})).catch((function(e){n.showToast(e.text),console.log(e)}))},formSubmit:function(e){var t=e.detail.value;if(!n.WxValidate.checkForm(t)){var o=n.WxValidate.errorList[0];return console.log(o),void n.showToast(o.msg)}n.toRegister(t),console.log(e)},captCha:function(t){(0,a.captCha)(t).then((function(t){console.log("captCha",t),201==t.data.code?e.showToast({title:"发送成功",icon:"success",duration:1e3,success:function(){var e=n.second;r.default.getCode(n,e),n.reg=!0}}):n.showToast(t.data.message)})).catch((function(e){n.showToast(e.text),console.log(e)}))},sendCode:function(e){if(console.log(n.mobile),console.log(n.WxValidatePhone.checkForm({phone:n.mobile})),!n.WxValidatePhone.checkForm({phone:n.mobile})){var t=n.WxValidatePhone.errorList[0];return console.log(t),void n.showToast(t.msg)}n.captCha({phone:n.mobile})},_navigateTo:function(t){console.log(t),e.navigateTo({url:t})},_navigateBack:function(){e.navigateBack()},showToast:function(t){e.showToast({title:t,icon:"none",mask:!0,duration:2e3})},initValidate:function(e){var t={name:{required:!0},phone:{required:!0,tel:!0},password:{required:!0},verifiCode:{required:!0}},o={name:{required:"请输入用户名"},phone:{required:"手机号不能为空",tel:"请输入正确的手机号"},password:{required:"请输入密码"},verifiCode:{required:"验证码错误"}};n.WxValidate=new i.default(t,o)},initValidatePhone:function(e){var t={phone:{required:!0,tel:!0}},o={phone:{required:"手机号不能为空",tel:"请输入正确的手机号"}};n.WxValidatePhone=new i.default(t,o)}}};t.default=u}).call(this,o("543d")["default"])},"960f":function(e,t,o){"use strict";var n=o("4387"),a=o.n(n);a.a},"99de":function(e,t,o){"use strict";o.r(t);var n=o("6248"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},be2e:function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement;e._self._c},i=[]},de47:function(e,t,o){"use strict";(function(e){o("abd0");n(o("66fd"));var t=n(o("5ffc"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])}},[["de47","common/runtime","common/vendor"]]]);