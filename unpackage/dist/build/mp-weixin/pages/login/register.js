(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/register"],{"2b99":function(e,t,o){"use strict";var a=o("44e9"),n=o.n(a);n.a},"44e9":function(e,t,o){},"68b1":function(e,t,o){"use strict";var a;o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement;e._self._c},i=[]},7384:function(e,t,o){"use strict";o.r(t);var a=o("be00"),n=o.n(a);for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a},b475:function(e,t,o){"use strict";(function(e){o("61ae");a(o("66fd"));var t=a(o("eac9"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},be00:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=o("71ae"),i=(c(o("57a3")),c(o("c4a2"))),r=c(o("1d74"));function c(e){return e&&e.__esModule?e:{default:e}}var u={data:function(){return{test:"../../static/image/banner2.png",list:"",openid:e.getStorageSync("openid"),second:60,reg:!1,mobile:""}},onLoad:function(e){a=this,a.initValidate(),a.initValidatePhone()},methods:{toRegister:function(t){(0,n.toRegister)(t).then((function(t){console.log("toRegister",t),201==t.data.code?(e.setStorageSync("userInfo",t.data.data),e.setStorageSync("token",t.data.data.token),e.setStorageSync("phone",t.data.data.phone),getApp().globalData.userInfo=t.data.data,getApp().globalData.token=t.data.data.token,getApp().globalData.phone=t.data.data.phone,e.showToast({title:"注册成功",duration:2e3,icon:"success",success:function(){e.reLaunch({url:"../index/index"})}})):a.showToast(t.data.message)})).catch((function(e){a.showToast(e.text),console.log(e)}))},formSubmit:function(e){var t=e.detail.value;if(!a.WxValidate.checkForm(t)){var o=a.WxValidate.errorList[0];return console.log(o),void a.showToast(o.msg)}a.toRegister(t),console.log(e)},captCha:function(t){(0,n.captCha)(t).then((function(t){console.log("captCha",t),201==t.data.code?e.showToast({title:"发送成功",icon:"success",duration:1e3,success:function(){var e=a.second;r.default.getCode(a,e),a.reg=!0}}):a.showToast(t.data.message)})).catch((function(e){a.showToast(e.text),console.log(e)}))},sendCode:function(e){if(console.log(a.mobile),console.log(a.WxValidatePhone.checkForm({phone:a.mobile})),!a.WxValidatePhone.checkForm({phone:a.mobile})){var t=a.WxValidatePhone.errorList[0];return console.log(t),void a.showToast(t.msg)}a.captCha({phone:a.mobile})},_navigateTo:function(t){console.log(t),e.navigateTo({url:t})},_navigateBack:function(){e.navigateBack()},showToast:function(t){e.showToast({title:t,icon:"none",mask:!0,duration:2e3})},initValidate:function(e){var t={name:{required:!0},phone:{required:!0,tel:!0},password:{required:!0},verifiCode:{required:!0}},o={name:{required:"请输入用户名"},phone:{required:"手机号不能为空",tel:"请输入正确的手机号"},password:{required:"请输入密码"},verifiCode:{required:"验证码错误"}};a.WxValidate=new i.default(t,o)},initValidatePhone:function(e){var t={phone:{required:!0,tel:!0}},o={phone:{required:"手机号不能为空",tel:"请输入正确的手机号"}};a.WxValidatePhone=new i.default(t,o)}}};t.default=u}).call(this,o("543d")["default"])},eac9:function(e,t,o){"use strict";o.r(t);var a=o("68b1"),n=o("7384");for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);o("2b99");var r,c=o("f0c5"),u=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);t["default"]=u.exports}},[["b475","common/runtime","common/vendor"]]]);