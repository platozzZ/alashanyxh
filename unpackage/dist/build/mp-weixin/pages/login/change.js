(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/change"],{5859:function(e,t,a){"use strict";(function(e){a("abd0");n(a("66fd"));var t=n(a("9ff8"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},5942:function(e,t,a){},"8f55":function(e,t,a){"use strict";var n=a("5942"),o=a.n(n);o.a},"9ff8":function(e,t,a){"use strict";a.r(t);var n=a("a9ab"),o=a("db6f");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("8f55");var c,r=a("f0c5"),d=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);t["default"]=d.exports},a9ab:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement;e._self._c},i=[]},db6f:function(e,t,a){"use strict";a.r(t);var n=a("ecdb"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},ecdb:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=a("da42"),i=(r(a("989c")),r(a("e5da"))),c=r(a("5929"));function r(e){return e&&e.__esModule?e:{default:e}}var d={data:function(){return{test:"../../static/image/banner2.png",list:"",openid:e.getStorageSync("openid"),second:60,reg:!1,mobile:""}},onLoad:function(e){n=this,n.initValidate(),n.initValidatePhone()},methods:{changePwd:function(t){(0,o.changePwd)(t).then((function(t){console.log("changePwd",t),201==t.data.code?(e.setStorageSync("userInfo",t.data.data),e.setStorageSync("token",t.data.data.token),e.setStorageSync("phone",t.data.data.phone),getApp().globalData.userInfo=t.data.data,getApp().globalData.token=t.data.data.token,getApp().globalData.phone=t.data.data.phone,e.showToast({title:"密码修改成功",duration:2e3,icon:"success",success:function(){e.reLaunch({url:"../index/index"})}})):n.showToast(t.data.message)})).catch((function(e){n.showToast(e.text),console.log(e)}))},formSubmit:function(e){var t=e.detail.value;if(!n.WxValidate.checkForm(t)){var a=n.WxValidate.errorList[0];return console.log(a),void n.showToast(a.msg)}n.changePwd(t),console.log(e)},captCha:function(t){(0,o.captCha)(t).then((function(t){console.log("captCha",t),201==t.data.code?e.showToast({title:"发送成功",icon:"success",duration:1e3,success:function(){var e=n.second;c.default.getCode(n,e),n.reg=!0}}):n.showToast(t.data.message)})).catch((function(e){n.showToast(e.text),console.log(e)}))},sendCode:function(e){if(console.log(n.mobile),console.log(n.WxValidatePhone.checkForm({phone:n.mobile})),!n.WxValidatePhone.checkForm({phone:n.mobile})){var t=n.WxValidatePhone.errorList[0];return console.log(t),void n.showToast(t.msg)}n.captCha({phone:n.mobile})},_navigateTo:function(t){console.log(t),e.navigateTo({url:t})},_navigateBack:function(){e.navigateBack()},showToast:function(t){e.showToast({title:t,icon:"none",mask:!0,duration:2e3})},initValidate:function(e){var t={phone:{required:!0,tel:!0},password:{required:!0},verifiCode:{required:!0}},a={phone:{required:"手机号不能为空",tel:"请输入正确的手机号"},password:{required:"请输入密码"},verifiCode:{required:"验证码错误"}};n.WxValidate=new i.default(t,a)},initValidatePhone:function(e){var t={phone:{required:!0,tel:!0}},a={phone:{required:"手机号不能为空",tel:"请输入正确的手机号"}};n.WxValidatePhone=new i.default(t,a)}}};t.default=d}).call(this,a("543d")["default"])}},[["5859","common/runtime","common/vendor"]]]);