(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/l-file/l-file"],{"2be5":function(t,e,n){"use strict";(function(t){function n(t,e){return u(t)||a(t,e)||o(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(l){o=!0,i=l}finally{try{r||null==u["return"]||u["return"]()}finally{if(o)throw i}}return n}}function u(t){if(Array.isArray(t))return t}function l(t,e){if(null==t)return{};var n,r,o=s(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function s(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var c;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f={props:{top:{type:String,default:"auto"},bgColor:{type:String,default:"rgba(49, 126, 243, 0.5)"},color:{type:String,default:"#e54d42"}},data:function(){return{cubgColor:"",loading:!1,value:5,show:!1,msg:"执行完毕~"}},mounted:function(){c=this},methods:{toast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.duration,o=void 0===r?2e3:r,i=n.icon,a=void 0===i?"none":i;t.showToast({title:e,duration:o,icon:a})},getRequest:function(t){var e=new Object,n=t.indexOf("?");if(-1!=n)for(var r=t.substring(n+1),o=r.split("&"),i=0;i<o.length;i++)e[o[i].split("=")[0]]=unescape(o[i].split("=")[1]);return e},appChooseFile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.currentWebview,t.url,t.name,t.header,l(t,["currentWebview","url","name","header"])},wxChooseFile:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.url,i=r.name,a=void 0===i?"file":i,u=r.header,s=l(r,["url","name","header"]);wx.chooseMessageFile({count:1,type:"file",success:function(r){var i=r.tempFiles,l=n(i,1),c=l[0],f=c.path,d=c.name;return e.setdefUI(),t.uploadFile({url:o,name:a,filePath:f,formData:s,header:u,success:function(t){if(200==t.statusCode){var n=JSON.parse(t.data);return e.onCommit(e.$emit("up-success",{fileName:d,data:n}))}return e.errorHandler("文件上传失败",e.upErr)},fail:function(){return e.errorHandler("文件上传失败",e.upErr)}})},fail:function(){return e.errorHandler("文件选择失败",e.upErr)}})},upload:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.url){if(!this.loading)return this.wxChooseFile(t);this.toast("还有个文件玩命处理中，请稍候..")}else this.toast("上传地址不正确")},open:function(e){var n=t.getSystemInfoSync().platform;"ios"==n&&(e=encodeURI(e)),t.openDocument({filePath:e,success:function(t){console.log("打开文档成功")}})},download:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"temporary";if(!this.loading)return this.setdefUI(),new Promise((function(o,i){var a=t.downloadFile({url:e,success:function(e){var a=e.statusCode,u=e.tempFilePath;console.log(a),console.log(u),200===a&&("local"==r?t.saveFile({tempFilePath:u,success:function(t){var e=t.savedFilePath;console.log(e),c.onCommit(o(e))},fail:function(){return n.errorHandler("下载失败",i)}}):n.onCommit(o(u)))},fail:function(){return n.errorHandler("下载失败",i)}});a.onProgressUpdate((function(t){var e=t.progress,r=void 0===e?0:e;r<=100&&n.$nextTick((function(){n.value=r}))}))}));this.toast("请稍候..")},onCommit:function(t){var e=this;return console.log(t),this.msg="执行完毕~",this.loading=!1,this.cubgColor="rgba(57, 181, 74, 0.5)",setTimeout((function(){e.show=!1}),1500),t},setdefUI:function(){this.cubgColor=this.bgColor,this.value=0,this.loading=!0,this.show=!0},upErr:function(t){this.$emit("up-error",t)},errorHandler:function(t,e){var n=this;return this.msg=t,this.loading=!1,this.cubgColor="rgba(229, 77, 66, 0.5)",setTimeout((function(){n.show=!1}),1500),e(t)}}};e.default=f}).call(this,n("543d")["default"])},"37c9":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},i=[]},"64d4":function(t,e,n){"use strict";n.r(e);var r=n("37c9"),o=n("f73a");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("df97");var a,u=n("f0c5"),l=Object(u["a"])(o["default"],r["b"],r["c"],!1,null,"49cce92e",null,!1,r["a"],a);e["default"]=l.exports},df97:function(t,e,n){"use strict";var r=n("ea10"),o=n.n(r);o.a},ea10:function(t,e,n){},f73a:function(t,e,n){"use strict";n.r(e);var r=n("2be5"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/l-file/l-file-create-component',
    {
        'components/l-file/l-file-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("64d4"))
        })
    },
    [['components/l-file/l-file-create-component']]
]);
