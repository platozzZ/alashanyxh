{"version":3,"sources":["webpack:////Users/plato1/Desktop/fb/yxh/components/jin-attachment/jin-attachment.vue?b9b9","webpack:////Users/plato1/Desktop/fb/yxh/components/jin-attachment/jin-attachment.vue?6077","webpack:////Users/plato1/Desktop/fb/yxh/components/jin-attachment/jin-attachment.vue?cc53","webpack:////Users/plato1/Desktop/fb/yxh/components/jin-attachment/jin-attachment.vue?f470","uni-app:///components/jin-attachment/jin-attachment.vue","webpack:////Users/plato1/Desktop/fb/yxh/components/jin-attachment/jin-attachment.vue?c3b0","webpack:////Users/plato1/Desktop/fb/yxh/components/jin-attachment/jin-attachment.vue?9ee5"],"names":[],"mappings":"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","file":"components/jin-attachment/jin-attachment.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./jin-attachment.vue?vue&type=template&id=36939db8&scoped=true&\"\nvar renderjs\nimport script from \"./jin-attachment.vue?vue&type=script&lang=js&\"\nexport * from \"./jin-attachment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jin-attachment.vue?vue&type=style&index=0&id=36939db8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36939db8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/jin-attachment/jin-attachment.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-attachment.vue?vue&type=template&id=36939db8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-attachment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-attachment.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"imgs\">\r\n\t\t\t<!-- images -->\r\n\t\t\t<!-- <view class=\"single\" v-for=\"(item, key) in list\" :key=\"key\" v-if=\"item.type == 'image'\">\r\n\t\t\t\t<image :src=\"item.url\" mode=\"aspectFit\" @click=\"previewImg(item.url)\" />\r\n\t\t\t\t<progress :percent=\"item.process\" activeColor=\"#67C23A\" :backgroundColor=\"item.process == 100 || item.process == undefined ? '#67C23A' : '#F56C6C'\"\r\n\t\t\t\t stroke-width=\"3\" v-if=\"mode == 'create' && showProcess\" />\r\n\t\t\t\t<view class=\"del\" @click=\"deleteItem(key)\">×</view>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- file -->\r\n\t\t\t<view class=\"file\" v-for=\"(item, key) in list\" :key=\"key\" v-if=\"item.type == 'file'\">\n\t\t\t\t <!-- @click=\"downLoad(item.url)\" -->\r\n\t\t\t\t<view class=\"noImg\" @longpress=\"deleteItem(key)\">{{ item.fileName }}</view>\r\n\t\t\t\t<!-- <progress :percent=\"item.process\" activeColor=\"#67C23A\" :backgroundColor=\"item.process == 100 || item.process == undefined ? '#67C23A' : '#F56C6C'\"\r\n\t\t\t\t stroke-width=\"3\" v-if=\"mode == 'create' && showProcess\" /> -->\r\n\t\t\t\t<view class=\"del\" @tap=\"deleteItem(key)\">×</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- add button -->\n\t\t\t<view class=\"flex flex-direction align-center response\" v-if=\"mode == 'create' && list.length == 0\">\n\t\t\t\t<button class=\"cu-btn block margin-top\" @click=\"chooseFile\">\n\t\t\t\t\t<image src=\"../../static/image/excel.png\" class=\"\"></image>\n\t\t\t\t\t上传表格\n\t\t\t\t</button>\n\t\t\t\t<text class=\"text-sm margin-top-xs\">从微信聊天记录中选择文件</text>\n\t\t\t</view>\r\n\t\t\t<!-- <view v-if=\"mode == 'create'\" class=\"single addNew\" @click=\"chooseFile\"><text class=\"cuIcon-add\"></text></view> -->\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tattachmentList: {\r\n\t\t\t\ttype: Array //附件列表\r\n\t\t\t},\r\n\t\t\tmode: {\r\n\t\t\t\ttype: String //模式： create => 可新增或编辑附件 不填或其他 => 只能查看附件\r\n\t\t\t},\r\n\t\t\tuploadFileUrl: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdafault: '#' // 上传文件的服务器url\r\n\t\t\t},\r\n\t\t\tshowProcess: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true //是否显示进度，默认显示\r\n\t\t\t},\r\n\t\t\theader: {\r\n\t\t\t\ttype: Object //上传图片到服务器时，HTTP 请求 Header\r\n\t\t\t},\r\n\t\t\tlimit: {\r\n\t\t\t\ttype: Number, //限制可上传的图片数量\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t\tfileKeyName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'file' //用于在服务端通过自定义key值获取该文件数据\r\n\t\t\t},\r\n\t\t\tcanUploadFile: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tlist() {\r\n\t\t\t\treturn this.attachmentList;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpreviewImg(url) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: 0,\r\n\t\t\t\t\turls: [url]\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdownLoad(url) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确定要下载此附件吗',\r\n\t\t\t\t\tcontent: ' ',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: '下载中,请稍后'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(url);\r\n\t\t\t\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\tvar tempFile = res.tempFilePath;\r\n\t\t\t\t\t\t\t\t\tuni.saveFile({\r\n\t\t\t\t\t\t\t\t\t\ttempFilePath: res.tempFilePath,\r\n\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\tvar savedFilePath = res.savedFilePath;\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '保存成功，路径为' + savedFilePath\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tuni.openDocument({\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilePath: savedFilePath,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: res => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '下载失败',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t}, 20000);\r\n\r\n\t\t\t\t\t\t\t// downloadTask.onProgressUpdate((res) => {\r\n\t\t\t\t\t\t\t//     console.log('下载中,进度' +  res.progress)\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteItem(index) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定要删除此项吗？',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tif (this.list[index].process != 100) {\r\n\t\t\t\t\t\t\t\ttypeof this.list[index].uploadTask != 'undefined' && this.list[index].uploadTask.abort();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.list.splice(index, 1);\r\n\t\t\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t\t\tthis.$emit('update:attachmentList', this.list);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync chooseFile() {\r\n\t\t\t\tif (this.limit != null && !isNaN(this.limit)) {\r\n\t\t\t\t\tif (this.list.length >= this.limit) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '已达到最大上传数量',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar canUploadFile = this.canUploadFile;\r\n\t\t\t\t// 非APP平台不可以上传文件\r\n\t\t\t\t// #ifndef APP-PLUS || MP-WEIXIN\r\n\t\t\t\tcanUploadFile = false;\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t// APP 需调用uniapp插件市场的chuck-filemanager插件，可以选择试用，然后在mainfest.json中勾选该插件，既可在自定义基座中运行\r\n\t\t\t\t// chuck-filemanager插件地址 https://ext.dcloud.net.cn/plugin?id=680\r\n\t\t\t\tif (canUploadFile) {\r\n\t\t\t\t\tconst open = uni.requireNativePlugin('chuck-filemanager');\r\n\t\t\t\t\tvar temp = await new Promise(resoleve => {\r\n\t\t\t\t\t\topen.onIntent('996', path => {\r\n\t\t\t\t\t\t\tresoleve(path);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\tvar tempFiles = ['file:///' + temp];\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\tif (!canUploadFile) {\r\n\t\t\t\t\tvar temps = await uni.chooseImage({\r\n\t\t\t\t\t\tcount: this.limit == null || this.limit - this.list.length > 9 ? 9 : 9 - limit,\r\n\t\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\t\tsourceType: ['album'] //从相册选择\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (typeof temps[1] == 'undefined') {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar tempFiles = temps[1].tempFilePaths;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t// var res = await uni.showActionSheet({\r\n\t\t\t\t\t// \titemList: ['选择文件']//'选择图片', \r\n\t\t\t\t\t// })\r\n\t\t\t\t\t// if (res[1].tapIndex == 0) {\r\n\t\t\t\t\t// \tvar temps = await uni.chooseImage({\r\n\t\t\t\t\t// \t\tcount: this.limit == null || this.limit - this.list.length > 9 ? 9 : 9 - limit,\r\n\t\t\t\t\t// \t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\t// \t\tsourceType: ['album'] //从相册选择\r\n\t\t\t\t\t// \t});\r\n\r\n\t\t\t\t\t// \tif (typeof temps[1] == 'undefined') {\r\n\t\t\t\t\t// \t\treturn;\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \tvar tempFiles = temps[1].tempFilePaths;\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t//微信从客户端选择文件\r\n\t\t\t\t\t\tvar temps = await new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\twx.chooseMessageFile({\r\n\t\t\t\t\t\t\t\tcount: this.limit == null || this.limit - this.list.length > 9 ? 9 : 9 - limit,\r\n\t\t\t\t\t\t\t\ttype: 'file',\r\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t// tempFilePath可以作为img标签的src属性显示图片\r\n\t\t\t\t\t\t\t\t\tconst tempFilePaths = res.tempFiles;\r\n\t\t\t\t\t\t\t\t\tresolve(tempFilePaths);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar tempFiles = temps.map((ele, index) => {\r\n\t\t\t\t\t\t\treturn ele.path;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar fileNames = temps.map((ele, index) => {\r\n\t\t\t\t\t\t\treturn ele.name;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\r\n\r\n\t\t\t\tfor (let i in tempFiles) {\r\n\t\t\t\t\tlet path = tempFiles[i];\r\n\t\t\t\t\tif(typeof fileNames != 'undefined' && typeof fileNames[i] != 'undefined') {\r\n\t\t\t\t\t\tvar fileName = fileNames[i];\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar fileName = path.split('/');\r\n\t\t\t\t\t\tfileName = fileName[fileName.length - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet index = this.list.length;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 开始上传，先暂存文件\r\n\t\t\t\t\tthis.list.push({\r\n\t\t\t\t\t\tfileName: fileName,\r\n\t\t\t\t\t\turl: path,\r\n\t\t\t\t\t\ttype: this.isImg(path) ? 'image' : 'file',\r\n\t\t\t\t\t\tindex: index,\r\n\t\t\t\t\t\t// uploadTask: uploadTask,\r\n\t\t\t\t\t\tprocess: 0\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\tthis.$emit('uploadSuccess', this.list);\r\n\t\t\t\t\t// var uploadTask = await uni.uploadFile({\r\n\t\t\t\t\t// \turl: this.uploadFileUrl,\r\n\t\t\t\t\t// \tfilePath: path,\r\n\t\t\t\t\t// \tname: this.fileKeyName,\r\n\t\t\t\t\t// \theaders: this.header,\r\n\t\t\t\t\t// \tsuccess: res => {\n\t\t\t\t\t// \t\tconsole.log(res);\r\n\t\t\t\t\t// \t\t// 上传完成后处理\r\n\t\t\t\t\t// \t\tthis.$emit('uploadSuccess', res);\r\n\t\t\t\t\t// \t\tif (res.statusCode  == 200) {\r\n\t\t\t\t\t// \t\t\tthis.$set(this.list[index], 'process', 100);\r\n\t\t\t\t\t// \t\t\tthis.$emit('update:attachmentList', this.list);\r\n\t\t\t\t\t// \t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t// \t\t} else {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t// uploadTask.onProgressUpdate(res => {\r\n\t\t\t\t\t// \t//此接口不显示真实进度， 所以需要特殊处理\r\n\t\t\t\t\t// \tif (res.progress < 90) {\r\n\t\t\t\t\t// \t\tthis.$set(this.list[index], 'process', res.progress);\r\n\t\t\t\t\t// \t\tthis.$forceUpdate();\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//根据文件名，返回时是否是图片类型\r\n\t\t\tisImg(filePath) {\r\n\t\t\t\tlet index = filePath.lastIndexOf('.');\r\n\t\t\t\tlet ext = filePath.substr(index + 1);\r\n\t\t\t\tvar temp = ['png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'svg', 'tiff'].indexOf(ext.toLowerCase()) !== -1;\r\n\t\t\t\treturn temp;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.imgs {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: calc(100% + 15rpx);\r\n\r\n\t\t& .file {\r\n\t\t\tmin-width: calc(100% - 15rpx);\r\n\t\t\tborder: 1px solid #cccccc;\r\n\t\t\t// border-radius: 10upx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmargin-top: 20upx;\r\n\t\t\tposition: relative;\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t& .noImg {\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 26upx;\r\n\t\t\t\t// flex-wrap: wrap;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tword-break: break-all;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprogress {\r\n\t\t\tmargin-top: -6rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t}\r\n\r\n\t\t.del {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 35rpx;\r\n\t\t\theight: 35rpx;\r\n\t\t\tbackground: #f56c6c;\r\n\t\t\tcolor: #fff;\r\n\t\t\ttop: 0;\r\n\t\t\ttext-align: center;\r\n\t\t\tright: 0;\r\n\t\t\tline-height: 35rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\tz-index: 100;\r\n\t\t}\r\n\r\n\t\t& .single {\r\n\t\t\twidth: 125upx;\r\n\t\t\theight: 150upx;\r\n\t\t\tborder: 1px solid #ccc;\r\n\t\t\t// border-radius: 10upx;\r\n\t\t\tmargin-top: 20upx;\r\n\t\t\tmargin-right: 12rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t// &:nth-of-type(5n) {\r\n\t\t\t// \tmargin-right: 0;\r\n\t\t\t// }\r\n\r\n\t\t\t&.addNew {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 50rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t& image {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-attachment.vue?vue&type=style&index=0&id=36939db8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jin-attachment.vue?vue&type=style&index=0&id=36939db8&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1600762784738\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}